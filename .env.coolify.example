# Coolify Environment Variables Template
# Copy these variables to Coolify UI: Environment Variables section
# Documentation: See COOLIFY_DEPLOYMENT.md

# ============================================
# REQUIRED VARIABLES
# ============================================

# Anthropic API Key (Required)
# Get your API key from: https://console.anthropic.com/
# This is required for Claude CLI to function
ANTHROPIC_API_KEY=sk-ant-api03-xxx

# ============================================
# OPTIONAL VARIABLES (with defaults)
# ============================================

# Maximum Concurrent Jobs
# Adjust based on your server resources:
# - 4 GB RAM = 2 jobs max
# - 8 GB RAM = 3-4 jobs
# - 16 GB RAM = 6-8 jobs
# - 32 GB RAM = 10+ jobs
# Default: 3
MAX_CONCURRENT_JOBS=3

# Python Configuration
# Keep unbuffered for real-time log streaming
PYTHONUNBUFFERED=1

# ============================================
# COOLIFY MAGIC VARIABLES (Auto-Generated)
# ============================================
# These are automatically generated by Coolify
# You'll set the domains in Coolify UI when configuring services

# Frontend Domain (set in Coolify UI)
# Examples:
# - yourdomain.com
# - app.yourdomain.com
# - subdomain.yourdomain.com
SERVICE_FQDN_FRONTEND=

# Backend API Domain (set in Coolify UI)
# Examples:
# - api.yourdomain.com
# - yourdomain.com/api
SERVICE_FQDN_BACKEND=

# Auto-generated URLs (Coolify creates these)
SERVICE_URL_FRONTEND=
SERVICE_URL_BACKEND=

# ============================================
# CONFIGURATION GUIDE
# ============================================

# Step 1: Set Required Variables in Coolify
# -----------------------------------------
# 1. Log into Coolify dashboard
# 2. Navigate to your project
# 3. Go to Environment Variables tab
# 4. Add ANTHROPIC_API_KEY with your actual key
# 5. Click "Save"

# Step 2: Configure Optional Variables (if needed)
# -----------------------------------------
# 1. Add MAX_CONCURRENT_JOBS if you want to change default
# 2. Set based on your server's RAM (see guidelines above)

# Step 3: Set Domains in Coolify UI
# -----------------------------------------
# 1. Go to your project
# 2. Click on "frontend" service
# 3. Click "Set Domain"
# 4. Enter your domain (e.g., app.yourdomain.com)
# 5. Coolify auto-configures SSL
# 6. Repeat for "backend" service (e.g., api.yourdomain.com)

# Step 4: DNS Configuration
# -----------------------------------------
# Add these DNS records at your domain provider:
# Type  | Host | Value           | TTL
# ------|------|-----------------|------
# A     | @    | your-server-ip  | Auto
# A     | api  | your-server-ip  | Auto
# A     | app  | your-server-ip  | Auto

# ============================================
# RESOURCE RECOMMENDATIONS
# ============================================

# Minimum Server (Testing):
# - CPU: 2 cores
# - RAM: 4 GB
# - Storage: 20 GB
# - MAX_CONCURRENT_JOBS=1

# Recommended Server (Production):
# - CPU: 4-8 cores
# - RAM: 8-16 GB
# - Storage: 50-100 GB SSD
# - MAX_CONCURRENT_JOBS=3

# Heavy Load Server:
# - CPU: 8-16 cores
# - RAM: 16-32 GB
# - Storage: 100-250 GB SSD
# - MAX_CONCURRENT_JOBS=5-10

# ============================================
# TROUBLESHOOTING
# ============================================

# Issue: "ANTHROPIC_API_KEY is required" error
# Solution: Verify key is set in Coolify Environment Variables

# Issue: Jobs failing or timing out
# Solution: Verify API key is valid, test with:
# docker exec <container> claude --version

# Issue: Out of memory errors
# Solution: Reduce MAX_CONCURRENT_JOBS or upgrade server RAM

# Issue: Can't access application
# Solution: Check DNS records, verify domains in Coolify

# ============================================
# SECURITY NOTES
# ============================================

# ⚠️ IMPORTANT SECURITY GUIDELINES:
#
# 1. NEVER commit API keys to Git
# 2. NEVER share API keys publicly
# 3. Store keys only in Coolify UI (encrypted)
# 4. Rotate keys regularly (every 90 days)
# 5. Use separate keys for dev/staging/production
# 6. Monitor API usage at console.anthropic.com
# 7. Set up billing alerts to prevent overuse

# ============================================
# COST ESTIMATION
# ============================================

# Claude API Usage (approximate):
# - Brand Research: $0.50-2.00 per job (web searches + analysis)
# - Brief Generation: $0.20-0.50 per job
# - Draft Generation: $0.30-1.00 per job
#
# Monthly estimate (100 jobs): $50-150 in API costs
# Plus server hosting: $40-80/month
# Total: ~$100-230/month

# ============================================
# MONITORING
# ============================================

# Check active jobs:
# curl https://api.yourdomain.com/api/jobs

# Check server health:
# curl https://api.yourdomain.com/health

# View container stats:
# ssh user@server
# docker stats

# ============================================
# SUPPORT
# ============================================

# Documentation:
# - Coolify: https://coolify.io/docs
# - Application: See COOLIFY_DEPLOYMENT.md
#
# Community:
# - Coolify Discord: https://coollabs.io/discord
# - GitHub Issues: Create issue with logs

# ============================================
# CHANGE LOG
# ============================================

# v1.0 - Initial Coolify configuration
# - Basic environment variables
# - Domain configuration
# - Resource limits
